# RPI -> Tinker Serial API

## 통신 정의

Serial 연결하기 위한 기본 값 정의, 만약 Python에 존재하지 않다면 기본값을 사용하면 됩니다.

옵션 | 값
:---:|:---:
Baudrate|19200
DataBit|8
Parity|None
StopBit|1
FlowControl|None

## 통신 관련 설명

어떠한 통신을 사용하더라도 STX(시작 문자)와 ETX(종료 문자)가 필요합니다. 데이터 통신은 전선을 통한 전압차를 이용한 방식을 주로 활용합니다. 그래서 자연스럽게 잡음 및 오류가 발생하게 되는데 이를 해결 하기 위해 체크섬이나 데이터의 시작점과 종료지점을 지정할 수 있습니다. 동의대학교에서는 유니코드 기반이므로, STX와 ETX 문자를 0x0023과 0x0024를 사용하지만 흔히 임베디드 시스템에선 '$'와 '#'을 사용합니다. 그래서 현 시스템은 임베디드 시스템이므로 STX는 '$', ETX는 '#'로 사용할 예정 입니다. 추가적으로 체크섬과, Ack, Nack를 통한 데이터 오류 검증을 할 수 있지만 귀찮으므로 하지 않습니다.

2022년 12월 04일 기준 데이터 통신은 오직 RPI4B에서 Tinker로 전송하며, 문자열로 주고 받습니다.

## 사용자 관련

설명 | 값
:---:|:---:
설명 | 카메라로 부터 사용자를 식별한 데이터를 Tinker에 전송합니다.
전송 방향 | RPI4B -> Tinker
전달 데이터 | 성공유무, 사용자 이름, 사용자 아이디
데이터 프로토콜 | $(failure)@(user_name)@(user_id)# 
예시 | $true@차주형@aoikazto#
예시 설명 | 사용자 aoikazto 식별에 실패하였음.
응답 값 | 없음
